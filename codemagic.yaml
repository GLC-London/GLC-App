# Automatically generated on 2021-04-15 UTC from https://codemagic.io/app/606e3af0c7451c997d5349e9/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 2c6c0d9c-4018-480d-9232-e4ae6b790113
        APP_STORE_CONNECT_KEY_IDENTIFIER: 372CZL62W5
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdkN3ZMcmt2cWV2eDNwZjZzOHZFazU2b2dNOVRTa1pDZXRDTWxKVGpKSGgwRzh5WDdzenV2X25sV1h6akFkell6M2t4bi1rUDN2TEQ2NWEzeU5nUnFWVlNaUG1DYzRMVmVnUFR4REg5bnFIV0owOG1kZDh4V1B0b2tpck5YaVBBX3hSaWkzR19BMWpuTGdCeVpEYnNLMWxDQXctdU9SYnJhdDFFNDJfM0hrXzlBSFNvUW9lU0kwZTgxV2tZTDhUeHVNZUhuQjJQV2RDU2o4dXI3ckp4eFpBZHYteUE0aEV0X2ZkVzN5R0FSQ3ZtdUlUWjZxYVNRdVl4Y3hiRVRtYnVWaHZOM3IwS2xlNmczSXNCaElJVHEwcTFGeTNwQnB1QmpDVGFPME9GZm8xZVh4TXRDX0RfZ3FtSkNSUXF1YjZnald5YjBSbHREMGx6MzdJOUZoMERkbzRhcDNhUTRCS0V0aHZMNURERXdBSXh2cEZXTUNmUzk0S0J1Ni1lNk9sLW5iWmpFVXpfU3hiNDV5TG1BMzJzQkJzTFVtMkNRZ3hONW9HUEVWNVFCNmk3dTNPUT0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdkN3ZMOWk0dVJRLUhjT3JuS3lMQ0xseG9YTXBvM2k0dzhGVXE2TEdKLVZHaDN5eDE1NXI2R3FTeDh5T0dpckpGTWFUaFp0R04tU29oTjR5Vmh3aklCdnY2NmJfcGJIT0ozSHdSOXhKTFB3enRvN0JfZmlqUUZYVF9oY2o3NjBMaEZ1cW9iNjZ3cFFTMnlBS2x2Z2NSVTZXc1NmSTZGYWd3aDQ0dmxoTzVueUowbDJfb253alZKVTU3dWtzc3VfQUozc1NqYTRObEJYUXZDWHhGQ2U4NXRFQ1d6MU1HNjVtaV9KNlRPSFpia2V2OEdHRzhsZXBnblNQcjNRbHlIS3E0cWRVUnBVSnpodW1JYzh5SnAwcVdDWnhzVnJ2QmFfLVQtMXpXQ0U1ZHczNDFWT1lrU2Z3RlQ4LTdOMEhLWWN1MElUSU5Zemg3azJQM2dwRnprNVNxMVpRQklNR2pJeDNjQ092RThsTHQtbVBudS13WTZnUEJvSkxWZWI3ZExLTDBhdlZvNDVaOXR4UDhIUTNGWktpdjhlR3Vsc1czTDN6WU9ONDBwQmdLdkN1MjRYbUhwVHBwcjd1ZVJXV1dlam9Tc3ZhRGtyVUhaa3NVb2dKT2JveHFBWnRHX2xZVnY2RzIwblVQTC1GZWVkMEVGRkFOUGx2U2ZfOEVyY0tWdjVmU1BFVDNNNWFaVGFLQjVteF9MdWZ0aWN4RXQyQTJiSVBMUk94S1RqOVc2a0pyblBvSVZuSnprNVowbk9ZNm5WaUxGVHdaUzBnOTdXQ1FuSFNHWTFacmRQcTlMWGc2aUd1VjBkcDZvUldaU09hZ1JDOFpUR2d2MkNXcWRpd056SHQtT2hGOU94anhXWk1jWmd3cTJ3bFBpN2dvbWM3dGsyNkdHNnJkNUV2RDkzUVZPUjRZSlRsMW01MFlMMkk1bk52WHowZzg1QVg0Z3M3aHhqRm51eVIzOGdmUy1aNTBzSmE5T0tfaWdFb3p5TE92ZGhaS1k1aW9Kd3hXMWdXbkxENEVoNVUzR2Uxdnp0ODJlNFc0YUpWUHo5QWdkdTVSbXNUQlJJVjFnMGQyc1AwOHJta2lwejR5ZHZOMFpIcDZ5VUFDaWxmWDZwQ2ZSMjFucHNJNjVLeHZKV3d4M2Vya2dUTjJQNXRwSGRrNTJnTEM4Tmx3bU5XOXA3UHRvaC1LUURFc3k1d2Jpck9NRVlIZEsxYTlqb0ZFZE9MNkUwZnFYZHFpbWtQLXVBdXJXUlhlSFlxV2VpREoyOGs1LXFFUV8tUlRfaG5nRUY5NUdCY2JlU1VDdnpfX1pLOTQ5NDJJcS0yMVFsaHpHeEMtZVE3TW5xcEw4ajh1ZDc3aER5dXRvMWNkbVhhOFlfc21INVVSM3UwQ09MQ2lRZkJGWk5lanROeGZVRGhUZG1CWTJWXzk0eXZacWxIdlE1T0ozLXJMRmRJQmNjUmEwLWVnYVg2bXUwX1NxSFltT0Z4cUoxSURXUUpJdnhrVVpsRGloaWxJaGN3WHdlS3Rpcno1MHNGdDV5ZFZTeGxKVVZGMG9aRGVWT2M5bGwxOGxsWnpUcmVQQmRJS3JGbWZhbllGWVZpVTMtLUx2ek8xTFNDQkwwVGpXRXIxcW5seGJNMHpjY25yOWV3MERTdHc1V0ZmS2hHTmh3dzE4bFd1UWI0c1ZRSEZLd2lvSWZWZjZsMU5Vdnp1YXIyQlJMU2FIc21lLS1Xekg0cXFnZmJlYnctRkMxQWhuN2p4ekc4TkpwZVJEdVlTRzBCSlFCTG05ZXEyeFFnMElUNzhFT2V0Z3h4ZDZ0SklfaVBZdTBsUkdCYVFSOGxtOTlpTV9oS09aYzVBQmlCSm5KTXZ0YUEzYy14cWFVRzRpdG5yR0tPLW0ydVpSbVotRjdzVlZldDZ1cG42LWVYTThMVFp2RmQ1SU1uX3RUOFZ5MkluYXItd2hfRGdvR1RJRnYzdWRsTlo5eVpnVFlZLThZa0ExQzllMFJDQ3Rvd2I1NzYzZjRkWlpGeWREVTBzd3RjaXpDNjdxSDBWeEM1SDN4clhDTVB4WUNnNy1icU5HWDFXRXdXdjdUVl9paFdaRWM3M1ZEXzQ5R0huT1dTeHlyVF9IN0syVkpxWjZ2YXdVNUNlUzZlU1kxVng5eDVkRTQwcGxxSEhzVWk5WU5kcGNsSnZldGo0N2o0SnNTaGdfZHl2WFZSQmpoSkVLM2RjV1RiUHR3aTVKNTAyaDllTmo1WDJrYVNfcVNYMS1UTXVPOTRIQWZHR3k4QU9Ha2VKQk1KcnlsdDRoNDF0eGpac2o5WVZTWTQ5emd5N3V1MkZKWHNja3BTS3JMTHAxdnk2WThpQ0VFTzBmODhackJYeUZiY3JMRDVocC1zaDRueTlPbzcxS3NOQnlvSVFwdDg0ZEhyRDRXeU5tWmxvRG5fdzBZMm84VHIwM0xnUlBPbkJLbFR0VVpiSGZzbTloUVItX2EwX09GLW1QVUFwS0V2dHRZanVLcE9TMGpHZnZMWDNnVE5OYXE4ZDhPSVFSS2dxT3QzNUJIaVdaOHpRd2tLXzU4Mkh6LXFib01yTW5mSDVwaUlDRkRTUEZmSlFydHNyVHZScWhGam0zM1BYeVhOVmRDS3R2cGQzSjkzTFdzYWR5dDdzODBvMV9ZM1pWN3dXZXUxZDJjYTc2bDJORjB3ajBFUDQ0di1EcllZajV0azhjNDBtcDVBbXIzWmRpUEJ3SmExajE0WXdQNzF2MHdvV0VfTERuV3kzYVk4aVpWeUZsZjRIemlfbWJfdWFwUGVld20zS0R0RVFYdkRHX0xmTmNFLVh6SERtRXRfSENBNlloZmVORFIycFRYLXpQTTVjN0R2SWVyS0dZZEVVYTdxbzVMbkgyaHdOVFVTd2JVaG5oZS01Q2g2a2VZUWRVYTJtUWNtNXM0U1hCTDNvUGc4bWdTdzZub3lvTmpycjdUSHBMTmFGNjF5N0ZFNHpjNkVrVUN2RTBBZlY5RFVUM1FBSTB5NmMwbDc4QkxoOTVnczEtLVdTb3B1TGhxTUo0QWtvcGR3bjQzQm95Wkh3d0hTOEljdjNsQWJD)
      flutter: stable
      xcode: latest
      cocoapods: default
    scripts:
      - cd . && flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "$(xcode-project detect-bundle-id)"
        --type IOS_APP_STORE --create
      - keychain add-certificates
      - xcode-project use-profiles
      - cd . && flutter build ipa --export-options-plist=/Users/builder/export_options.plist
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - nkenyor@gmail.com
      app_store_connect:
        apple_id: it@greatlightconnections.org.uk
        password: Encrypted(Z0FBQUFBQmdkN3ZMMVpQX2hRZ0lNc2M0WUlVTGNkdUlpbTl6U3JhU2ZfQWZDSld4bndIMjAzanl0OGNrMk9QeHJiRDliaUk0ajZTWndPZmRrUEhRRzhpaWZrX0I5OUF5eV9VbHNqNGlBRXhrRXZmQ1ozRm9jMWM9)